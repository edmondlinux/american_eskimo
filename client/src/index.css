@import url('https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300..900&family=Manrope:wght@300..800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   Classical breeder aesthetic: warm parchment + ink + brass
   Space-separated HSL variables (Tailwind expects this format)
   ========================================================= */

:root {
  --font-sans: "Manrope", ui-sans-serif, system-ui, -apple-system, Segoe UI, Arial, sans-serif;
  --font-serif: "Fraunces", ui-serif, Georgia, "Times New Roman", serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Warm paper */
  --background: 38 38% 97%;
  --foreground: 22 28% 14%;

  /* Surfaces */
  --card: 36 33% 99%;
  --card-foreground: 22 28% 14%;
  --popover: 36 33% 99%;
  --popover-foreground: 22 28% 14%;

  /* Borders + inputs */
  --border: 26 20% 86%;
  --input: 26 20% 82%;
  --ring: 18 52% 38%;

  /* Brand: cognac + brass + sage */
  --primary: 18 52% 38%;
  --primary-foreground: 38 40% 98%;

  --secondary: 34 26% 92%;
  --secondary-foreground: 22 28% 18%;

  --muted: 34 26% 93%;
  --muted-foreground: 22 14% 40%;

  --accent: 146 22% 34%;
  --accent-foreground: 38 40% 98%;

  --destructive: 0 74% 52%;
  --destructive-foreground: 38 40% 98%;

  /* Sidebar tokens (used by existing UI lib) */
  --sidebar: 34 26% 94%;
  --sidebar-foreground: 22 28% 16%;
  --sidebar-border: 26 20% 86%;
  --sidebar-ring: 18 52% 38%;
  --sidebar-primary: 18 52% 38%;
  --sidebar-primary-foreground: 38 40% 98%;
  --sidebar-accent: 146 22% 34%;
  --sidebar-accent-foreground: 38 40% 98%;

  /* Charts */
  --chart-1: 18 52% 38%;
  --chart-2: 146 22% 34%;
  --chart-3: 35 74% 52%;
  --chart-4: 210 28% 42%;
  --chart-5: 0 74% 52%;

  --radius: 0.85rem;

  /* Layering */
  --shadow-soft: 0 18px 40px -26px hsl(22 40% 10% / 0.35);
  --shadow-lift: 0 26px 70px -46px hsl(22 40% 10% / 0.55);
  --shadow-crisp: 0 1px 0 hsl(26 20% 78% / 0.8);

  --grain-opacity: 0.08;
}

.dark {
  --background: 22 28% 10%;
  --foreground: 38 40% 96%;

  --card: 22 26% 12%;
  --card-foreground: 38 40% 96%;
  --popover: 22 26% 12%;
  --popover-foreground: 38 40% 96%;

  --border: 22 16% 22%;
  --input: 22 16% 26%;
  --ring: 35 74% 52%;

  --primary: 35 74% 52%;
  --primary-foreground: 22 28% 10%;

  --secondary: 22 16% 18%;
  --secondary-foreground: 38 40% 96%;

  --muted: 22 16% 18%;
  --muted-foreground: 34 12% 70%;

  --accent: 146 22% 44%;
  --accent-foreground: 22 28% 10%;

  --destructive: 0 74% 52%;
  --destructive-foreground: 38 40% 96%;

  --sidebar: 22 16% 14%;
  --sidebar-foreground: 38 40% 96%;
  --sidebar-border: 22 16% 20%;
  --sidebar-ring: 35 74% 52%;
  --sidebar-primary: 35 74% 52%;
  --sidebar-primary-foreground: 22 28% 10%;
  --sidebar-accent: 146 22% 44%;
  --sidebar-accent-foreground: 22 28% 10%;

  --grain-opacity: 0.05;
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    text-rendering: geometricPrecision;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-serif);
    @apply tracking-tight;
  }
}

/* =========================================================
   Premium background atmosphere (mesh + grain)
   ========================================================= */
@layer utilities {
  .bg-atelier {
    background:
      radial-gradient(1200px 800px at 15% 10%, hsl(35 74% 52% / 0.16), transparent 55%),
      radial-gradient(900px 650px at 80% 22%, hsl(146 22% 34% / 0.12), transparent 55%),
      radial-gradient(900px 650px at 55% 95%, hsl(18 52% 38% / 0.10), transparent 58%),
      linear-gradient(180deg, hsl(var(--background)) 0%, hsl(34 26% 95%) 100%);
  }

  .grain-overlay {
    position: relative;
  }

  .grain-overlay::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: var(--grain-opacity);
    mix-blend-mode: multiply;
    background-image:
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
    border-radius: inherit;
  }

  .surface-card {
    background:
      linear-gradient(180deg, hsl(var(--card)) 0%, hsl(36 28% 97%) 100%);
    box-shadow: var(--shadow-soft), var(--shadow-crisp);
  }

  .surface-glass {
    background: linear-gradient(180deg, hsl(var(--card) / 0.78), hsl(var(--card) / 0.66));
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-soft);
  }

  .focus-ring {
    @apply focus:outline-none focus-visible:ring-4 focus-visible:ring-ring/15 focus-visible:border-ring;
  }

  .btn-sheen {
    position: relative;
    overflow: hidden;
  }
  .btn-sheen::after {
    content: "";
    position: absolute;
    inset: -120%;
    background: radial-gradient(circle at 20% 20%, hsl(0 0% 100% / 0.25), transparent 45%);
    transform: rotate(18deg);
    opacity: 0;
    transition: opacity 250ms ease, transform 700ms cubic-bezier(.2,.9,.2,1);
  }
  .btn-sheen:hover::after {
    opacity: 1;
    transform: rotate(18deg) translate3d(18%, 8%, 0);
  }

  @keyframes float-in {
    0% { opacity: 0; transform: translate3d(0, 10px, 0) scale(0.99); filter: blur(2px); }
    100% { opacity: 1; transform: translate3d(0, 0, 0) scale(1); filter: blur(0); }
  }
  .animate-float-in { animation: float-in 700ms cubic-bezier(.2,.9,.2,1) both; }

  @keyframes shimmer {
    0% { background-position: 0% 0; }
    100% { background-position: 200% 0; }
  }
  .skeleton-shimmer {
    background: linear-gradient(90deg,
      hsl(var(--muted)) 0%,
      hsl(var(--muted) / 0.55) 35%,
      hsl(var(--muted)) 70%
    );
    background-size: 200% 100%;
    animation: shimmer 1.2s linear infinite;
  }
}
